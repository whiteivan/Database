static int32_t read_full(int fd, char* buf, size_t n);
static int32_t one_request(int connfd);
static void die(const char *msg);
static int32_t write_all (int fd, char* buf, size_t n);
static void msg(const char *msg);
static void die(const char *msg);
static void do_something(int connfd);


